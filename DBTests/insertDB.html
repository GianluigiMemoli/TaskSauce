<html  lang="it">
<head><meta charset="utf-8"> </head>
<body>
<script>
    let openRequest = indexedDB.open('itemDB', 3);
    //Setting event listeners
    openRequest.onsuccess = function () {
        let db = openRequest.result;
        let transaction = db.transaction("items", "readwrite");
        let items = transaction.objectStore("items");
        let addRequest = items.add({name: "item 1"});
        addRequest.onsuccess = () => {
            console.log("Item added correctly");
        };

        addRequest.onerror = () => {
            console.log(`Error occurred\n${addRequest.error}`);
        };

        let getRequest = db.transaction("items");
        items = getRequest.objectStore("items");
        let allItems = items.getAll();
        allItems.onsuccess = function () {
            allItems.result.forEach(item => console.log(item));
        }

    };

    openRequest.onerror = () => {
        console.log(`COccos Ã¨ succies\n ${openRequest.error}`);
    }
</script>
</body>
</html>